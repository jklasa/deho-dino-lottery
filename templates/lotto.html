{% extends "base.html" %}

{% block scripts %}
{{ super() }}
<script>
    var numEntries = 0;
    {% for entry in entries %}
        $('#list').append('<li id="{{ loop.index }}">{{ entry }}</li>');
        numEntries++;
    {% endfor %}

    jQuery.fn.center = function () {
        this.css("position","absolute");
        this.css("top", Math.max(0, (($(window).height() - $(this).outerHeight()) / 2) + 
                                                    $(window).scrollTop()) + "px");
        this.css("left", Math.max(0, (($(window).width() - $(this).outerWidth()) / 2) + 
                                                    $(window).scrollLeft()) + "px");
        return this;
    }

    function setLayout() {
        $('#box').center();
        $('#lotto-list').height($(window).height());
    }

    window.onload = setLayout;
    window.onresize = setLayout;

    $(document).keypress(function(e) {
        if (e.which == 13) {
            console.log("enter");
            var duration = Math.floor(Math.random() * 2000) + 1000;
            var entry = Math.floor(Math.random() * numEntries);
            var selection = $("#" + entry);

            $('#lotto-list').animate({
                scrollTop: selection.offset().top - $(window).height() / 2 - selection.height() / 2
            }, duration);
        }
    });
</script>
{% endblock scripts %}

{% block content %}
<div class="container">
    <div id="box"></div>
    <div id="lotto-list" class="center">
        <ul id="list">
        </ul>
    </div>
</div>
{% endblock content %}
